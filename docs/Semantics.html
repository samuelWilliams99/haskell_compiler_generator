<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Semantics</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ml</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Samuel Williams 2021</td></tr><tr><th>License</th><td>GPL-3</td></tr><tr><th>Maintainer</th><td>samuel.will1999@gmail.com</td></tr><tr><th>Stability</th><td>release</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Semantics</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module creates lenses for all constructors within the data types.
The structures within this file are outputted by the .smt parser, and directly used to generate the semantics checker.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:SemanticsDef">SemanticsDef</a> = <a href="#v:SemanticsDef">SemanticsDef</a> {<ul class="subs"><li><a href="#v:_semanticsBaseTypes">_semanticsBaseTypes</a> :: HashMap String String</li><li><a href="#v:_semanticsParamTypes">_semanticsParamTypes</a> :: HashMap String String</li><li><a href="#v:_semanticsStateExtra">_semanticsStateExtra</a> :: String</li><li><a href="#v:_semanticsVarExtra">_semanticsVarExtra</a> :: String</li><li><a href="#v:_semanticsStandardEnv">_semanticsStandardEnv</a> :: String</li><li><a href="#v:_semanticsHasIncludes">_semanticsHasIncludes</a> :: Bool</li><li><a href="#v:_semanticsRules">_semanticsRules</a> :: [<a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a>]</li><li><a href="#v:_semanticsAstTypes">_semanticsAstTypes</a> :: [String]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SemanticsType">SemanticsType</a><ul class="subs"><li>= <a href="#v:SemanticsCommandType">SemanticsCommandType</a></li><li>| <a href="#v:SemanticsStaticType">SemanticsStaticType</a> String</li><li>| <a href="#v:SemanticsStaticBaseType">SemanticsStaticBaseType</a> String</li><li>| <a href="#v:SemanticsVarType">SemanticsVarType</a> String</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:SemanticsRule">SemanticsRule</a> = <a href="#v:SemanticsRule">SemanticsRule</a> {<ul class="subs"><li><a href="#v:_semanticsRulePattern">_semanticsRulePattern</a> :: String</li><li><a href="#v:_semanticsRuleOutput">_semanticsRuleOutput</a> :: String</li><li><a href="#v:_semanticsRuleOutputEnv">_semanticsRuleOutputEnv</a> :: String</li><li><a href="#v:_semanticsRuleType">_semanticsRuleType</a> :: <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></li><li><a href="#v:_semanticsRuleAstType">_semanticsRuleAstType</a> :: String</li><li><a href="#v:_semanticsRuleWhere">_semanticsRuleWhere</a> :: Maybe String</li><li><a href="#v:_semanticsRuleDeps">_semanticsRuleDeps</a> :: [<a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a>]</li><li><a href="#v:_semanticsRuleTypeRestrictions">_semanticsRuleTypeRestrictions</a> :: [<a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SemanticsTypeRestriction">SemanticsTypeRestriction</a> = <a href="#v:SemanticsTypeRestriction">SemanticsTypeRestriction</a> {<ul class="subs"><li><a href="#v:_semanticsTypeResName">_semanticsTypeResName</a> :: String</li><li><a href="#v:_semanticsTypeResOptions">_semanticsTypeResOptions</a> :: [String]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SemanticsRuleDependency">SemanticsRuleDependency</a> = <a href="#v:SemanticsRuleDependency">SemanticsRuleDependency</a> {<ul class="subs"><li><a href="#v:_semanticsDepInput">_semanticsDepInput</a> :: String</li><li><a href="#v:_semanticsDepInputEnv">_semanticsDepInputEnv</a> :: String</li><li><a href="#v:_semanticsDepOutput">_semanticsDepOutput</a> :: String</li><li><a href="#v:_semanticsDepOutputEnv">_semanticsDepOutputEnv</a> :: String</li><li><a href="#v:_semanticsDepOutputType">_semanticsDepOutputType</a> :: <a href="Semantics.html#t:SemanticsDepOutputType" title="Semantics">SemanticsDepOutputType</a></li><li><a href="#v:_semanticsDepIterType">_semanticsDepIterType</a> :: <a href="Semantics.html#t:SemanticsRuleDependencyIterType" title="Semantics">SemanticsRuleDependencyIterType</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SemanticsRuleDependencyIterType">SemanticsRuleDependencyIterType</a><ul class="subs"><li>= <a href="#v:SemanticsDepSingle">SemanticsDepSingle</a></li><li>| <a href="#v:SemanticsDepFold">SemanticsDepFold</a> Bool</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:SemanticsDepOutputType">SemanticsDepOutputType</a><ul class="subs"><li>= <a href="#v:RawSemanticsDepType">RawSemanticsDepType</a> <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></li><li>| <a href="#v:BuiltSemanticsDepTypeAssign">BuiltSemanticsDepTypeAssign</a> String</li><li>| <a href="#v:BuiltSemanticsDepTypeCompare">BuiltSemanticsDepTypeCompare</a> <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></li></ul></li><li class="src short"><a href="#v:semanticsVarExtra">semanticsVarExtra</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> String</li><li class="src short"><a href="#v:semanticsStateExtra">semanticsStateExtra</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> String</li><li class="src short"><a href="#v:semanticsStandardEnv">semanticsStandardEnv</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> String</li><li class="src short"><a href="#v:semanticsRules">semanticsRules</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> [<a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a>]</li><li class="src short"><a href="#v:semanticsParamTypes">semanticsParamTypes</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> (HashMap String String)</li><li class="src short"><a href="#v:semanticsHasIncludes">semanticsHasIncludes</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> Bool</li><li class="src short"><a href="#v:semanticsBaseTypes">semanticsBaseTypes</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> (HashMap String String)</li><li class="src short"><a href="#v:semanticsAstTypes">semanticsAstTypes</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> [String]</li><li class="src short"><a href="#v:semanticsRuleWhere">semanticsRuleWhere</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> (Maybe String)</li><li class="src short"><a href="#v:semanticsRuleTypeRestrictions">semanticsRuleTypeRestrictions</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> [<a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a>]</li><li class="src short"><a href="#v:semanticsRuleType">semanticsRuleType</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></li><li class="src short"><a href="#v:semanticsRulePattern">semanticsRulePattern</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> String</li><li class="src short"><a href="#v:semanticsRuleOutputEnv">semanticsRuleOutputEnv</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> String</li><li class="src short"><a href="#v:semanticsRuleOutput">semanticsRuleOutput</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> String</li><li class="src short"><a href="#v:semanticsRuleDeps">semanticsRuleDeps</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> [<a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a>]</li><li class="src short"><a href="#v:semanticsRuleAstType">semanticsRuleAstType</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> String</li><li class="src short"><a href="#v:semanticsTypeResOptions">semanticsTypeResOptions</a> :: Lens' <a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a> [String]</li><li class="src short"><a href="#v:semanticsTypeResName">semanticsTypeResName</a> :: Lens' <a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a> String</li><li class="src short"><a href="#v:semanticsDepOutputType">semanticsDepOutputType</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> <a href="Semantics.html#t:SemanticsDepOutputType" title="Semantics">SemanticsDepOutputType</a></li><li class="src short"><a href="#v:semanticsDepOutputEnv">semanticsDepOutputEnv</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> String</li><li class="src short"><a href="#v:semanticsDepOutput">semanticsDepOutput</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> String</li><li class="src short"><a href="#v:semanticsDepIterType">semanticsDepIterType</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> <a href="Semantics.html#t:SemanticsRuleDependencyIterType" title="Semantics">SemanticsRuleDependencyIterType</a></li><li class="src short"><a href="#v:semanticsDepInputEnv">semanticsDepInputEnv</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> String</li><li class="src short"><a href="#v:semanticsDepInput">semanticsDepInput</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> String</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SemanticsDef" class="def">SemanticsDef</a> <a href="#t:SemanticsDef" class="selflink">#</a></p><div class="doc"><p>The entry point data type for a full semantics definition</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SemanticsDef" class="def">SemanticsDef</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_semanticsBaseTypes" class="def">_semanticsBaseTypes</a> :: HashMap String String</dfn><div class="doc"><p>Map from base type to equivalent C type</p></div></li><li><dfn class="src"><a id="v:_semanticsParamTypes" class="def">_semanticsParamTypes</a> :: HashMap String String</dfn><div class="doc"><p>Map from parametrised type to haskell code for C type generation</p></div></li><li><dfn class="src"><a id="v:_semanticsStateExtra" class="def">_semanticsStateExtra</a> :: String</dfn><div class="doc"><p>Haskell code for extra data on the state</p></div></li><li><dfn class="src"><a id="v:_semanticsVarExtra" class="def">_semanticsVarExtra</a> :: String</dfn><div class="doc"><p>Haskell code for extra data on variables</p></div></li><li><dfn class="src"><a id="v:_semanticsStandardEnv" class="def">_semanticsStandardEnv</a> :: String</dfn><div class="doc"><p>Haskell code for generating the standard environment</p></div></li><li><dfn class="src"><a id="v:_semanticsHasIncludes" class="def">_semanticsHasIncludes</a> :: Bool</dfn><div class="doc"><p>Whether or not the semantics definition supports includes</p></div></li><li><dfn class="src"><a id="v:_semanticsRules" class="def">_semanticsRules</a> :: [<a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a>]</dfn><div class="doc"><p>List of semantic reductions</p></div></li><li><dfn class="src"><a id="v:_semanticsAstTypes" class="def">_semanticsAstTypes</a> :: [String]</dfn><div class="doc"><p>List of the data types to be pattern matched by the reductions</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:SemanticsDef" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SemanticsDef:Show:1"></span> Show <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a></span> <a href="#t:SemanticsDef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SemanticsDef:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Semantics.html">Semantics</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SemanticsType" class="def">SemanticsType</a> <a href="#t:SemanticsType" class="selflink">#</a></p><div class="doc"><p>Types of types outputted by the parser</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SemanticsCommandType" class="def">SemanticsCommandType</a></td><td class="doc"><p>Non-type, for commands rather than expressions</p></td></tr><tr><td class="src"><a id="v:SemanticsStaticType" class="def">SemanticsStaticType</a> String</td><td class="doc"><p>The haskell code for a <code>VarType</code>, used within the generated semantics checker</p></td></tr><tr><td class="src"><a id="v:SemanticsStaticBaseType" class="def">SemanticsStaticBaseType</a> String</td><td class="doc"><p>A base type, to be wrapped in a <code>VarType</code> after use</p></td></tr><tr><td class="src"><a id="v:SemanticsVarType" class="def">SemanticsVarType</a> String</td><td class="doc"><p>Variable type, the name of a variable in the generated semantics checker, which is expected to be a <code>VarType</code></p></td></tr></table></div><div class="subs instances"><details id="i:SemanticsType" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SemanticsType:Eq:1"></span> Eq <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></span> <a href="#t:SemanticsType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SemanticsType:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Semantics.html">Semantics</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a> -&gt; <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a> -&gt; <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SemanticsType:Show:2"></span> Show <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></span> <a href="#t:SemanticsType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SemanticsType:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Semantics.html">Semantics</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SemanticsRule" class="def">SemanticsRule</a> <a href="#t:SemanticsRule" class="selflink">#</a></p><div class="doc"><p>A semantic reduction, specifying the input pattern, output code and types, and dependencies</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SemanticsRule" class="def">SemanticsRule</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_semanticsRulePattern" class="def">_semanticsRulePattern</a> :: String</dfn><div class="doc"><p>Haskell pattern to match, expected to be a constructor of the data type in <code><a href="Semantics.html#v:_semanticsRuleType" title="Semantics">_semanticsRuleType</a></code></p></div></li><li><dfn class="src"><a id="v:_semanticsRuleOutput" class="def">_semanticsRuleOutput</a> :: String</dfn><div class="doc"><p>Haskell String containing the equivalent C code for this reduction</p></div></li><li><dfn class="src"><a id="v:_semanticsRuleOutputEnv" class="def">_semanticsRuleOutputEnv</a> :: String</dfn><div class="doc"><p>Haskell variable name for the output environment of this reduction</p></div></li><li><dfn class="src"><a id="v:_semanticsRuleType" class="def">_semanticsRuleType</a> :: <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></dfn><div class="doc"><p>The output type of this reduction</p></div></li><li><dfn class="src"><a id="v:_semanticsRuleAstType" class="def">_semanticsRuleAstType</a> :: String</dfn><div class="doc"><p>The AST data type that this rule pattern matches</p></div></li><li><dfn class="src"><a id="v:_semanticsRuleWhere" class="def">_semanticsRuleWhere</a> :: Maybe String</dfn><div class="doc"><p>Optional where clause to be copied into the generated function</p></div></li><li><dfn class="src"><a id="v:_semanticsRuleDeps" class="def">_semanticsRuleDeps</a> :: [<a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a>]</dfn><div class="doc"><p>List of dependencies of this reduction, to be reduced before this one can complete</p></div></li><li><dfn class="src"><a id="v:_semanticsRuleTypeRestrictions" class="def">_semanticsRuleTypeRestrictions</a> :: [<a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a>]</dfn><div class="doc"><p>Restrictions placed on variable semantics types outputted by reducing <code><a href="Semantics.html#v:_semanticsRuleDeps" title="Semantics">_semanticsRuleDeps</a></code></p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:SemanticsRule" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SemanticsRule:Show:1"></span> Show <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a></span> <a href="#t:SemanticsRule" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SemanticsRule:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Semantics.html">Semantics</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SemanticsTypeRestriction" class="def">SemanticsTypeRestriction</a> <a href="#t:SemanticsTypeRestriction" class="selflink">#</a></p><div class="doc"><p>Restriction placed on a variable semantics type, enforcing presence of this type within a specified list.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SemanticsTypeRestriction" class="def">SemanticsTypeRestriction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_semanticsTypeResName" class="def">_semanticsTypeResName</a> :: String</dfn><div class="doc"><p>Name of the variable semantics type</p></div></li><li><dfn class="src"><a id="v:_semanticsTypeResOptions" class="def">_semanticsTypeResOptions</a> :: [String]</dfn><div class="doc"><p>List of base types this type must be in</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:SemanticsTypeRestriction" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SemanticsTypeRestriction:Show:1"></span> Show <a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a></span> <a href="#t:SemanticsTypeRestriction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SemanticsTypeRestriction:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Semantics.html">Semantics</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SemanticsRuleDependency" class="def">SemanticsRuleDependency</a> <a href="#t:SemanticsRuleDependency" class="selflink">#</a></p><div class="doc"><p>A reduction dependency</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SemanticsRuleDependency" class="def">SemanticsRuleDependency</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_semanticsDepInput" class="def">_semanticsDepInput</a> :: String</dfn><div class="doc"><p>The input token to be reduced</p></div></li><li><dfn class="src"><a id="v:_semanticsDepInputEnv" class="def">_semanticsDepInputEnv</a> :: String</dfn><div class="doc"><p>The environment to reduce the input token under</p></div></li><li><dfn class="src"><a id="v:_semanticsDepOutput" class="def">_semanticsDepOutput</a> :: String</dfn><div class="doc"><p>A name to assign the code generated from the input token to</p></div></li><li><dfn class="src"><a id="v:_semanticsDepOutputEnv" class="def">_semanticsDepOutputEnv</a> :: String</dfn><div class="doc"><p>A name to assign the new environment to</p></div></li><li><dfn class="src"><a id="v:_semanticsDepOutputType" class="def">_semanticsDepOutputType</a> :: <a href="Semantics.html#t:SemanticsDepOutputType" title="Semantics">SemanticsDepOutputType</a></dfn><div class="doc"><p>How to handle the output type</p></div></li><li><dfn class="src"><a id="v:_semanticsDepIterType" class="def">_semanticsDepIterType</a> :: <a href="Semantics.html#t:SemanticsRuleDependencyIterType" title="Semantics">SemanticsRuleDependencyIterType</a></dfn><div class="doc"><p>The iteration type of the dependency</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:SemanticsRuleDependency" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SemanticsRuleDependency:Show:1"></span> Show <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a></span> <a href="#t:SemanticsRuleDependency" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SemanticsRuleDependency:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Semantics.html">Semantics</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SemanticsRuleDependencyIterType" class="def">SemanticsRuleDependencyIterType</a> <a href="#t:SemanticsRuleDependencyIterType" class="selflink">#</a></p><div class="doc"><p>Iteration type of a reduction dependency</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SemanticsDepSingle" class="def">SemanticsDepSingle</a></td><td class="doc"><p>The input token is already an evaluable, no fold needed</p></td></tr><tr><td class="src"><a id="v:SemanticsDepFold" class="def">SemanticsDepFold</a> Bool</td><td class="doc"><p>Fold over a <code>Foldable</code> structure, using the boolean flag to specify the environment is passed down</p></td></tr></table></div><div class="subs instances"><details id="i:SemanticsRuleDependencyIterType" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SemanticsRuleDependencyIterType:Show:1"></span> Show <a href="Semantics.html#t:SemanticsRuleDependencyIterType" title="Semantics">SemanticsRuleDependencyIterType</a></span> <a href="#t:SemanticsRuleDependencyIterType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SemanticsRuleDependencyIterType:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Semantics.html">Semantics</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Semantics.html#t:SemanticsRuleDependencyIterType" title="Semantics">SemanticsRuleDependencyIterType</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Semantics.html#t:SemanticsRuleDependencyIterType" title="Semantics">SemanticsRuleDependencyIterType</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Semantics.html#t:SemanticsRuleDependencyIterType" title="Semantics">SemanticsRuleDependencyIterType</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SemanticsDepOutputType" class="def">SemanticsDepOutputType</a> <a href="#t:SemanticsDepOutputType" class="selflink">#</a></p><div class="doc"><p>A type describing how to handle the output type of a dependency. The parser will output with this always being a <code>RawSemanticsDepType</code>,
 then <a href="SemanticsValidator.html">SemanticsValidator</a> will convert these to the actions to take</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RawSemanticsDepType" class="def">RawSemanticsDepType</a> <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></td><td class="doc"><p>The semantics type outputted directly from the parser</p></td></tr><tr><td class="src"><a id="v:BuiltSemanticsDepTypeAssign" class="def">BuiltSemanticsDepTypeAssign</a> String</td><td class="doc"><p>Assign the reductions output type to a variable under the given name</p></td></tr><tr><td class="src"><a id="v:BuiltSemanticsDepTypeCompare" class="def">BuiltSemanticsDepTypeCompare</a> <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a></td><td class="doc"><p>Compare the reductions output type to the <code>SemanticsType</code> given</p></td></tr></table></div><div class="subs instances"><details id="i:SemanticsDepOutputType" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SemanticsDepOutputType:Show:1"></span> Show <a href="Semantics.html#t:SemanticsDepOutputType" title="Semantics">SemanticsDepOutputType</a></span> <a href="#t:SemanticsDepOutputType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SemanticsDepOutputType:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Semantics.html">Semantics</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Semantics.html#t:SemanticsDepOutputType" title="Semantics">SemanticsDepOutputType</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Semantics.html#t:SemanticsDepOutputType" title="Semantics">SemanticsDepOutputType</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Semantics.html#t:SemanticsDepOutputType" title="Semantics">SemanticsDepOutputType</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:semanticsVarExtra" class="def">semanticsVarExtra</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> String <a href="#v:semanticsVarExtra" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsStateExtra" class="def">semanticsStateExtra</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> String <a href="#v:semanticsStateExtra" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsStandardEnv" class="def">semanticsStandardEnv</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> String <a href="#v:semanticsStandardEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRules" class="def">semanticsRules</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> [<a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a>] <a href="#v:semanticsRules" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsParamTypes" class="def">semanticsParamTypes</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> (HashMap String String) <a href="#v:semanticsParamTypes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsHasIncludes" class="def">semanticsHasIncludes</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> Bool <a href="#v:semanticsHasIncludes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsBaseTypes" class="def">semanticsBaseTypes</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> (HashMap String String) <a href="#v:semanticsBaseTypes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsAstTypes" class="def">semanticsAstTypes</a> :: Lens' <a href="Semantics.html#t:SemanticsDef" title="Semantics">SemanticsDef</a> [String] <a href="#v:semanticsAstTypes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRuleWhere" class="def">semanticsRuleWhere</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> (Maybe String) <a href="#v:semanticsRuleWhere" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRuleTypeRestrictions" class="def">semanticsRuleTypeRestrictions</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> [<a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a>] <a href="#v:semanticsRuleTypeRestrictions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRuleType" class="def">semanticsRuleType</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> <a href="Semantics.html#t:SemanticsType" title="Semantics">SemanticsType</a> <a href="#v:semanticsRuleType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRulePattern" class="def">semanticsRulePattern</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> String <a href="#v:semanticsRulePattern" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRuleOutputEnv" class="def">semanticsRuleOutputEnv</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> String <a href="#v:semanticsRuleOutputEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRuleOutput" class="def">semanticsRuleOutput</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> String <a href="#v:semanticsRuleOutput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRuleDeps" class="def">semanticsRuleDeps</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> [<a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a>] <a href="#v:semanticsRuleDeps" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsRuleAstType" class="def">semanticsRuleAstType</a> :: Lens' <a href="Semantics.html#t:SemanticsRule" title="Semantics">SemanticsRule</a> String <a href="#v:semanticsRuleAstType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsTypeResOptions" class="def">semanticsTypeResOptions</a> :: Lens' <a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a> [String] <a href="#v:semanticsTypeResOptions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsTypeResName" class="def">semanticsTypeResName</a> :: Lens' <a href="Semantics.html#t:SemanticsTypeRestriction" title="Semantics">SemanticsTypeRestriction</a> String <a href="#v:semanticsTypeResName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsDepOutputType" class="def">semanticsDepOutputType</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> <a href="Semantics.html#t:SemanticsDepOutputType" title="Semantics">SemanticsDepOutputType</a> <a href="#v:semanticsDepOutputType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsDepOutputEnv" class="def">semanticsDepOutputEnv</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> String <a href="#v:semanticsDepOutputEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsDepOutput" class="def">semanticsDepOutput</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> String <a href="#v:semanticsDepOutput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsDepIterType" class="def">semanticsDepIterType</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> <a href="Semantics.html#t:SemanticsRuleDependencyIterType" title="Semantics">SemanticsRuleDependencyIterType</a> <a href="#v:semanticsDepIterType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsDepInputEnv" class="def">semanticsDepInputEnv</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> String <a href="#v:semanticsDepInputEnv" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:semanticsDepInput" class="def">semanticsDepInput</a> :: Lens' <a href="Semantics.html#t:SemanticsRuleDependency" title="Semantics">SemanticsRuleDependency</a> String <a href="#v:semanticsDepInput" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>